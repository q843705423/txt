#include <stdio.h>
const int N = 1e5+5;
char s[N];
int main()
{
	int t,i,a,ac,n;
  	scanf("%d",&t);
	while(t--){
		a = ac = 0;
		scanf("%d%s",&n,s);
		for(i=0;i<n;i++){
			a += s[i]=='A'?1:0;
			ac += s[i]=='C'?a:0;
		}
		printf("%d",ac);
	}
   
   return 0;
}